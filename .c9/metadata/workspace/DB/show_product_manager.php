{"changed":true,"filter":false,"title":"show_product_manager.php","tooltip":"/DB/show_product_manager.php","value":"<?php\nerror_reporting(0);\nsession_start();\n    echo '<meta http-equiv=\"Content-Type\" content=\"text/html; charset=utf-8\" />';\n    echo \"<title>KYMCO 進銷存系統</title>\n                    <meta charset='UTF-8'>\n                     <link href='../css/bootstrap.min.css' rel='stylesheet' media='screen'>\n                    <link href='../css/bootstrap.css' rel='stylesheet' media='screen'>\n                    <link href='../css/starter-template.css' rel='stylesheet' media='screen'>\n                     <link rel='icon' href='/DB/123.jpg'>\n                    \n                     \";\n                 \n    \n    echo \"<form action=show_product_manager.php method=POST >\";\n    echo \"<select name='product' style='color:black;'><font color='black'><option value='car' style='color:black;'>車種清單</option><option value='compon' style='color:black;'>零組件清單</font></option><option value='care' style='color:black;'>保養品清單</option></font></switch>\";\n    echo \"<input type='submit' value='送出'/>\";\n    echo \"</form>\";\n    $product = $_POST['product'];\n      echo \"<form action='index1.php' method=POST align='right'>\";\n    echo \"<nav class='navbar navbar-default' role='navigation'><ul class='nav nav-pills'> <li role='presentation' class='active'><font color='black'>\";\n    echo  $_SESSION['name'] . \" </font></li> <li role='presentation'><font color='black'>您好  身分:\" .       $_SESSION['ident'] . \"</font></li>  \" . \"    <li role='presentation'><button  name='func' type='submit' value='logout_action' class='btn btn-danger'><span class='glyphicon glyphicon-share' aria-hidden='true'>登出</span></button><br><br></li><li role='presentation'><button  name='func' type='submit' value='show_homepage' class='btn btn-danger'><span class='glyphicon glyphicon-home' aria-hidden='true'>首頁</span></button><br><br></li></ul></nav>\";\n    echo \"</form><br><br>\";\n    \n    \n    if($product=='car'){\n          require 'mysql.php';\n    $db=Database::initDB();\n    \n    \n    echo \"<h1>車種清單<h1>\";\n    $sql=\"select * From 車種 order by 車種id\";\n    $result=$db->query($sql);\n    echo \"<form action=index1.php method=POST>\";   \n    echo \"<table class='table table-striped'>\";\n    echo \"<tr><td></td><td><font color='black'>車種id</font></td><td><font color='black'>型號</font></td><td>排氣量</td><td><font color='black'>庫存</font></td><td><font color='black'>單價</font></td><td><font color='black'>成本價</font></td><td>圖片</td></tr>\";        \n\n              $per= 5; //每頁顯示項目數量\n                                   \n              if (!isset($_POST[\"page\"])){ //假如$_GET[\"page\"]未設置\n                     $page=1; //則在此設定起始頁數\n              } else {\n                     $page= intval($_POST[\"page\"]); //確認頁數只能夠是數值資料\n                     }\n              if (!isset($_POST[\"num\"])){ //假如$_GET[\"page\"]未設置\n                     $pagenum=count($result->fetchAll());\n              } else {\n                     $pagenum= intval($_POST[\"num\"]); //確認頁數只能夠是數值資料\n                     }\n              if (!isset($_POST[\"pages\"])){ //假如$_GET[\"page\"]未設置\n                      $pages= ceil($pagenum/$per);\n              } else {\n                      $pages= intval($_POST[\"pages\"]); //確認頁數只能夠是數值資料\n              }\n    \n             $start = ($page-1)*$per;//記錄偏移量\n            \n               $sql=\"select * From 車種 order by 車種id LIMIT $per  OFFSET $start\";\n            $result = $db->query($sql);\n\n    foreach($result->fetchAll() as $row)\n    {\n       echo \"<tr style='color:black;'><td><input type=radio name=product_id value=$row[車種id]></td>\n       <td>$row[車種id]</td>\n       <td>$row[型號]</td>\n       <td>$row[排氣量]</td>\n       <td>$row[庫存]</td>\n       <td>$row[單價]</td>\n       <td>$row[成本價]</td>\n       <td><img src=$row[車種圖片]></td>\n       </tr>\";        \n    }\n    echo \"</table>\";\n    echo \"<button type='submit' name='func' value='insert_product_car' class='btn btn-success'><font color='white'>新增車種</font></button>\";\n    echo \"<button type='submit' name='func' value='update_product_car' class='btn btn-warning'><font color='white' >修改</font></button>\";\n    echo \"<button type='submit' name='func' value='delete_action_product_car' class='btn btn-danger'><font color='white'>刪除</font></button>\";\n    echo \"<button type='submit' name='func' value='select_product_car' class='btn btn-danger'><font color='white'>查詢</font></button>\";\n    echo \"</form>\";\n    \n    //分頁頁碼\n    \n    \n          echo '共 '. $pagenum .' 筆-在 '.$page.' 頁-共 '.$pages.' 頁';\n   \n    echo \"<form action='show_product_manager.php' method='POST'>\n           <button type='submit'  name='product' value='$product' page=1 class='btn btn-primary'>首頁</button>\n           <input type='hidden' name='page' value='$page'/>\n           <input type='hidden' name='num' value='$pagenum'/>\n           <input type='hidden' name='pages' value='$pages'/>\n           <input type='hidden' name='id' value='$id'/>\n           </from>\";\n\n    echo \"<table><tr><td>第</td> \";\n    for( $i=1 ; $i<=$pages ; $i++ ) {\n     if ( $page-3 < $i && $i < $page+3 ) {\n    echo\"<form action='show_product_manager.php' method='POST'>\";\n            echo  \" <td><button type='submit' name='product' value='$product' class='btn btn-primary'>$i</button></td>\n            \n             <input type='hidden' name='page' value='$i'/>\n              <input type='hidden' name=num value='$pagenum'/>\n           <input type='hidden' name='pages' value='$pages'/>\n           <input type='hidden' name='id' value='$id'/></form>\n             \n             \";\n            \n        }}\n    \n    echo \" <td>頁</td> </tr></table>\";\n    \n    echo \"<br><br>\";\n    }else if($product=='compon'){\n          require 'mysql.php';\n    $db=Database::initDB();\n    echo \"<h1>零組件清單<h1>\";\n    $sql=\"select * From 零組件 order by 零組件id\";\n    $result=$db->query($sql);\n    echo \"<form action=index1.php method=POST>\";\n    echo \"<table  class='table table-striped'>\";\n    echo \"<tr style='color:black;'><td></td><td>零組件id</td><td>料號</td><td>零件名稱</td><td>單價</td><td>庫存</td><td>成本價</td></tr>\";        \n\n              $per= 5; //每頁顯示項目數量\n                                   \n              if (!isset($_POST[\"page\"])){ //假如$_GET[\"page\"]未設置\n                     $page=1; //則在此設定起始頁數\n              } else {\n                     $page= intval($_POST[\"page\"]); //確認頁數只能夠是數值資料\n                     }\n              if (!isset($_POST[\"num\"])){ //假如$_GET[\"page\"]未設置\n                     $pagenum=count($result->fetchAll());\n              } else {\n                     $pagenum= intval($_POST[\"num\"]); //確認頁數只能夠是數值資料\n                     }\n              if (!isset($_POST[\"pages\"])){ //假如$_GET[\"page\"]未設置\n                      $pages= ceil($pagenum/$per);\n              } else {\n                      $pages= intval($_POST[\"pages\"]); //確認頁數只能夠是數值資料\n              }\n    \n             $start = ($page-1)*$per;//記錄偏移量\n            \n               $sql=\"select * From 零組件 order by 零組件id LIMIT $per  OFFSET $start\";\n            $result = $db->query($sql);\n\n    foreach($result->fetchAll() as $row)\n    {\n       echo \"<tr style='color:black;'><td><input type=radio name=product_id value=$row[零組件id]></td><td>$row[零組件id]</td><td>$row[料號]</td><td>$row[零件名稱]</td><td>$row[單價]</td><td>$row[庫存]</td><td>$row[成本價]</td></tr>\";        \n    }\n    echo \"</table>\";\n    echo \"<button type='submit' name='func' value='insert_product_compon' class='btn btn-success'><font color='white'>新增零組件</font></button>\";\n    echo \"<button type='submit' name='func' value='update_product_compon' class='btn btn-warning'><font color='white' >修改</font></button>\";\n    echo \"<button type='submit' name='func' value='delete_action_product_compon' class='btn btn-danger'><font color='white'>刪除</font></button>\";\n    echo \"<button type='submit' name='func' value='select_product_compon' class='btn btn-danger'><font color='white'>查詢</font></button>\";\n    echo \"</form>\";\n    \n     //分頁頁碼\n    \n    \n          echo '共 '. $pagenum .' 筆-在 '.$page.' 頁-共 '.$pages.' 頁';\n   \n    echo \"<form action='show_product_manager.php' method='POST'>\n           <button type='submit'  name='product' value='$product' page=1 class='btn btn-primary'>首頁</button>\n           <input type='hidden' name='page' value='$page'/>\n           <input type='hidden' name='num' value='$pagenum'/>\n           <input type='hidden' name='pages' value='$pages'/>\n           <input type='hidden' name='id' value='$id'/>\n           </from>\";\n\n    echo \"<table><tr><td>第</td> \";\n    for( $i=1 ; $i<=$pages ; $i++ ) {\n     if ( $page-3 < $i && $i < $page+3 ) {\n    echo\"<form action='show_product_manager.php' method='POST'>\";\n            echo  \" <td><button type='submit' name='product' value='$product' class='btn btn-primary'>$i</button></td>\n            \n             <input type='hidden' name='page' value='$i'/>\n              <input type='hidden' name=num value='$pagenum'/>\n           <input type='hidden' name='pages' value='$pages'/>\n           <input type='hidden' name='id' value='$id'/></form>\n             \n             \";\n            \n        }}\n    \n    echo \" <td>頁</td> </tr></table>\";\n    \n    echo \"<br><br>\";\n    }else if($product=='care'){\n          require 'mysql.php';\n    $db=Database::initDB();\n    echo \"<h1>保養品清單<h1>\";\n    $sql=\"select * From 保養品 order by 保養品id\";\n    $result=$db->query($sql);\n    echo \"<form action=index1.php method=POST>\";   \n    echo \"<table  class='table table-striped'>\";\n    echo \"<tr style='color:black;'><td></td><td>保養品id</td><td>保養品名稱</td><td>單價</td><td>成本價</td><td>庫存</td></tr>\";        \n\n\n              $per= 5; //每頁顯示項目數量\n                                   \n              if (!isset($_POST[\"page\"])){ //假如$_GET[\"page\"]未設置\n                     $page=1; //則在此設定起始頁數\n              } else {\n                     $page= intval($_POST[\"page\"]); //確認頁數只能夠是數值資料\n                     }\n              if (!isset($_POST[\"num\"])){ //假如$_GET[\"page\"]未設置\n                     $pagenum=count($result->fetchAll());\n              } else {\n                     $pagenum= intval($_POST[\"num\"]); //確認頁數只能夠是數值資料\n                     }\n              if (!isset($_POST[\"pages\"])){ //假如$_GET[\"page\"]未設置\n                      $pages= ceil($pagenum/$per);\n              } else {\n                      $pages= intval($_POST[\"pages\"]); //確認頁數只能夠是數值資料\n              }\n    \n             $start = ($page-1)*$per;//記錄偏移量\n            \n               $sql=\"select * From 保養品 order by 保養品id LIMIT $per  OFFSET $start\";\n            $result = $db->query($sql);\n\n    foreach($result->fetchAll() as $row)\n    {\n       \n       echo \"<tr style='color:black;'><td><input type=radio name=product_id value=$row[保養品id]></td><td>$row[保養品id]</td><td>$row[保養品名稱]</td><td>$row[單價]</td><td>$row[成本價]</td><td>$row[庫存]</td></tr>\";        \n    }\n    echo \"</table>\";\n    echo \"<button type='submit' name='func' value='insert_product_care' class='btn btn-success'><font color='white'>新增保養品</font></button>\";\n    echo \"<button type='submit' name='func' value='update_product_care' class='btn btn-warning'><font color='white' >修改</font></button>\";\n    echo \"<button type='submit' name='func' value='delete_action_product_care' class='btn btn-danger'><font color='white'>刪除</font></button>\";\n    echo \"<button type='submit' name='func' value='select_product_care' class='btn btn-danger'><font color='white'>查詢</font></button>\";\n    echo \"</form>\";\n    \n    //分頁頁碼\n    \n    \n          echo '共 '. $pagenum .' 筆-在 '.$page.' 頁-共 '.$pages.' 頁';\n   \n    echo \"<form action='show_product_manager.php' method='POST'>\n           <button type='submit'  name='product' value='$product' page=1 class='btn btn-primary'>首頁</button>\n           <input type='hidden' name='page' value='$page'/>\n           <input type='hidden' name='num' value='$pagenum'/>\n           <input type='hidden' name='pages' value='$pages'/>\n           <input type='hidden' name='id' value='$id'/>\n           </from>\";\n\n    echo \"<table><tr><td>第</td> \";\n    for( $i=1 ; $i<=$pages ; $i++ ) {\n     if ( $page-3 < $i && $i < $page+3 ) {\n    echo\"<form action='show_product_manager.php' method='POST'>\";\n            echo  \" <td><button type='submit' name='product' value='$product' class='btn btn-primary'>$i</button></td>\n            \n             <input type='hidden' name='page' value='$i'/>\n              <input type='hidden' name=num value='$pagenum'/>\n           <input type='hidden' name='pages' value='$pages'/>\n           <input type='hidden' name='id' value='$id'/></form>\n             \n             \";\n            \n        }}\n    \n    echo \" <td>頁</td> </tr></table>\";\n        \n    }\n   \n   \n?>","undoManager":{"mark":9,"position":9,"stack":[[{"start":{"row":61,"column":98},"end":{"row":62,"column":0},"action":"insert","lines":["",""],"id":2},{"start":{"row":62,"column":0},"end":{"row":62,"column":7},"action":"insert","lines":["       "]}],[{"start":{"row":62,"column":78},"end":{"row":63,"column":0},"action":"insert","lines":["",""],"id":3},{"start":{"row":63,"column":0},"end":{"row":63,"column":7},"action":"insert","lines":["       "]}],[{"start":{"row":62,"column":43},"end":{"row":63,"column":0},"action":"insert","lines":["",""],"id":4},{"start":{"row":63,"column":0},"end":{"row":63,"column":7},"action":"insert","lines":["       "]}],[{"start":{"row":64,"column":71},"end":{"row":65,"column":0},"action":"insert","lines":["",""],"id":5},{"start":{"row":65,"column":0},"end":{"row":65,"column":7},"action":"insert","lines":["       "]}],[{"start":{"row":62,"column":26},"end":{"row":63,"column":0},"action":"insert","lines":["",""],"id":6},{"start":{"row":63,"column":0},"end":{"row":63,"column":7},"action":"insert","lines":["       "]}],[{"start":{"row":64,"column":25},"end":{"row":65,"column":0},"action":"insert","lines":["",""],"id":7},{"start":{"row":65,"column":0},"end":{"row":65,"column":7},"action":"insert","lines":["       "]}],[{"start":{"row":66,"column":24},"end":{"row":67,"column":0},"action":"insert","lines":["",""],"id":8},{"start":{"row":67,"column":0},"end":{"row":67,"column":7},"action":"insert","lines":["       "]}],[{"start":{"row":67,"column":25},"end":{"row":68,"column":0},"action":"insert","lines":["",""],"id":9},{"start":{"row":68,"column":0},"end":{"row":68,"column":7},"action":"insert","lines":["       "]}],[{"start":{"row":0,"column":5},"end":{"row":1,"column":0},"action":"insert","lines":["",""],"id":10}],[{"start":{"row":1,"column":0},"end":{"row":1,"column":19},"action":"insert","lines":["error_reporting(0);"],"id":11}]]},"ace":{"folds":[],"scrolltop":3300,"scrollleft":0,"selection":{"start":{"row":0,"column":0},"end":{"row":264,"column":2},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":{"row":24,"state":"php-start","mode":"ace/mode/php"}},"timestamp":1466706248000}